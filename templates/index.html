{% extends "master.html" %}

{% block head %}
<!-- CSS Stuff -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
{% endblock %}

{% block body %}

<!--
<table>
  <thead>
     <tr>
        <th>id</th>
        <th>Username</th>
        <th>last_active</th>
     </tr>
  </thead>

  <tbody>
     {% for user in users %}
        <tr>
           <td>{{ user.id }}</td>
           <td>{{ user.username }}</td>
           <td>{{ user.last_active }}</td>
        </tr>
     {% endfor %}
  </tbody>
</table> -->

<header>
  <div id="title">
    <img id="logout" src="{{ url_for('static', filename='images/powerIcon.png') }}" />
    <h2>Notis</h2>
  </div>
  <div id="conversationHeader">
    <h2>Conversation Name</h2>
  </div>
</header>


<div class="container">
  <div id="existingChats">
    <div id="selectWindow">
      <div id="selectExistingConvos" class="selectView">
        <img src="{{ url_for('static', filename='images/homeIcon.png') }}" />
      </div>
      <div id="selectViewActives" class="selectView selected">
        <img src="{{ url_for('static', filename='images/groupIcon.png') }}" />
      </div>
      <div id="selectGames" class="selectView">
        <img src="{{ url_for('static', filename='images/gameIcon.png') }}" />
      </div>
    </div>
    <div id="chatsContainer">
      <ul id="chats">
        <a><li>No more conversations</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
        <a><li>1</li></a>
          {% for user in users %}
             <a><li>
               <h3>{{ user.username }}</h3>
               <p>{{ user.last_active }}</p>
             </li><a>
          {% endfor %}
        {% for chat_id in current_user['chats'] %}
          <a href="{{ url_for('chats', chat_id=chat_id) }}"> <li> {{ chat_id }} </li> </a>
        {% endfor %}
      </ul>
    </div>
  </div>

  <div id="chatBox">
    {% if users_in_chat %}
    <h1>
      {% for u in users_in_chat %}
        {{ u }}
        <!-- MAYBE TTHE NAME COULD BE A LINK TO SOMETING -->
      {% endfor %}
    </h1>
    {% endif %}
    <div id="messagesContainer">
      {% if messages %}
        <ul id="messages">
          <li>No more conversations</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          {% for m in messages %}
            <li> {{ m['message'] }} </li>
          {% endfor %}
        </ul>
      {% else %}
      <!-- Make it so that by default, the most recent conversation is selected -->
        <!-- <h1> Click on some shit to start, {{ current_user['username'] }}. </h1> -->
      {% endif %}
    </div>

    <div id="send">
      <form id="inputForm">
        <input id="inputText" type="text" placeholder="Send a message"/>
        <button type="submit" id="sendButton">Send</button>
      </form>
    </div>

  </div>

</div>
{% endblock %}

{% block footer %}
<script type="text/javascript"  src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/index.js') }}"></script>
{% endblock %}
